version: '3.1'
intents:
- afirmar
- aprender
- bot_challenge
- despedirse
- elegir_nivel
- elegir_tema
- evaluar
- informar_nombre
- menu
- mood_great
- mood_unhappy
- negar
- pedir_ayuda
- responder
- saludar
entities:
- nombre
- nivel
- tema
slots:
  nombre:
    type: text
    influence_conversation: false
    initial_value: amig@
    mappings:
    - type: from_entity
      entity: nombre
  nivel:
    type: categorical
    values:
    - principiante
    - medio
    - avanzado
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: nivel
  tema:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: tema
  n_pregunta:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
    - type: custom
      entity: action_preguntas_principiante
  preguntas_seguidas:
    type: float
    initial_value: 0
    influence_conversation: true
    mappings:
    - type: custom
      entity: action_preguntas_principiante
  n_correctos:
    type: float
    initial_value: 0
    influence_conversation: false
    mappings:
    - type: custom
      entity: action_nota
responses:
  utter_saludar:
  - text: ¡Bienvenid@! Soy Unny, un experto en la astronomía.¿Cuál es tu nombre?
  utter_ok_nombre:
  - text: De acuerdo, {nombre}.
  utter_menu:
  - text: '{nombre}, puedes elegir una de las siguientes opciones:'
    buttons:
    - title: Aprender
      payload: /aprender
    - title: Responder preguntas
      payload: /evaluar
  utter_temario:
  - text: 'Elige uno de los siguientes temas:'
    buttons:
    - title: Sistema Solar
      payload: /elegir_tema{{"tema":"sistema solar"}}
    - title: Tierra
      payload: /elegir_tema{{"tema":"tierra"}}
    - title: Luna
      payload: /elegir_tema{{"tema":"luna"}}
  utter_niveles:
  - text: 'Elige uno de los siguientes niveles:'
    buttons:
    - title: Nivel Principiante
      payload: /elegir_nivel{{"nivel":"principiante"}}
    - title: Nivel Medio
      payload: /elegir_nivel{{"nivel":"medio"}}
    - title: Nivel Avanzado
      payload: /elegir_nivel{{"nivel":"avanzado"}}
  utter_has_elegido_tema:
  - text: Has elegido el tema {tema}.
  utter_has_elegido_nivel:
  - text: Has elegido el nivel {nivel}.
  utter_despedirse:
  - text: Hasta la próxima
  utter_iamabot:
  - text: I am a bot, powered by Rasa, developed by Aiwen Zhou.
  utter_instrucciones:
  - text: Soy las instrucciones...
actions:
- action_comprobar_respuesta
- action_nota
- action_preguntas_principiante
- action_tema_elegido
- utter_has_elegido_nivel
- utter_menu
- utter_niveles
- utter_ok_nombre
- utter_saludar
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: false
